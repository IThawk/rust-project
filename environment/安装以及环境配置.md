#   如何利用科大源提速Cargo和Rust
##  linux
###  一・ 修改代理
```
vi /root/.bashrc
```
然后加入：
```
export RUSTUP_DIST_SERVER=https://mirrors.ustc.edu.cn/rust-static
export RUSTUP_UPDATE_ROOT=https://mirrors.ustc.edu.cn/rust-static/rustup
```
接下来：
```
source /root/.bashrc
```
使之生效！
然后：
上传找到 rustup-init
将下载出来的rustup-init 授权执行
```
chmod 777 rustup-init
./rustup-init
```
安装的过程中选择：1.
就可以利用ustc的源下载Rust开发版了
![](F:\workspace\language\rust\rust-project\environment\images\rustup_install.jpg)
不过还没完，接下来：
###  二・ 配置 cargo
```
cd /root/
mkdir .cargo （注意，如果不存在这个文件夹）
cd .cargo 
touch config
```
然后vi config,在里面填入以下内容：
```
[registry]
index = "https://mirrors.ustc.edu.cn/crates.io-index/"
[source.crates-io]
registry = "https://github.com/rust-lang/crates.io-index"
replace-with = 'ustc'
[source.ustc]
registry = "https://mirrors.ustc.edu.cn/crates.io-index/"
```

 apt install build-essential libssl-dev gcc gcc-

 yum install binutils openssl-devel gcc gcc-





## Windows：

按rustup的时候就需要执行：rustup-init.exe (需要1.不要配置中科大还是没有都选择1)

```
CARGO_HOME:C:.cargo
RUSTUP_HOME:C:.rustup
RUSTUP_DIST_SERVER:http://mirrors.ustc.edu.cn/rust-static
RUSTUP_UPDATE_ROOT:http://mirrors.ustc.edu.cn/rust-static/rustup
```

![](F:\workspace\language\rust\rust-project\environment\images\windows_rustup_env1.jpg)

![](F:\workspace\language\rust\rust-project\environment\images\windows_cargo_env1.jpg)

修改cargo配置：

```
[source.crates-io]
registry = "https://github.com/rust-lang/crates.io-index"
replace-with = 'ustc'
[source.ustc]
registry = "https://mirrors.ustc.edu.cn/crates.io-index/"
```

![](F:\workspace\language\rust\rust-project\environment\images\windows_cargo_env2.jpg)



## rustup link：

rustup toolchain link my_gnu "安装位置"

rustup default my_gnu