#   按 Cargo以及Rust
##  linux
###  设置环境变量
```
vi /root/.bashrc
```
使用国内镜像
```
export RUSTUP_DIST_SERVER=https://mirrors.ustc.edu.cn/rust-static
export RUSTUP_UPDATE_ROOT=https://mirrors.ustc.edu.cn/rust-static/rustup
```
生效环境变量
```
source /root/.bashrc
```
安装
 rustup-init
rustup-init 

```
chmod 777 rustup-init
./rustup-init
```

![](.\images\rustup_install.jpg)


###  cargo
```
cd /root/
mkdir .cargo
cd .cargo 
touch config
```
# vi config

```
[registry]
index = "https://mirrors.ustc.edu.cn/crates.io-index/"
[source.crates-io]
registry = "https://github.com/rust-lang/crates.io-index"
replace-with = 'ustc'
[source.ustc]
registry = "https://mirrors.ustc.edu.cn/crates.io-index/"
[source.local]
local-registry = "/home/rust/local"
```

 apt install build-essential libssl-dev gcc gcc-

 yum install binutils openssl-devel gcc gcc-





## Windows安装

rustup安装rustup-init.exe (设置环境变量)

```
CARGO_HOME:C:.cargo
RUSTUP_HOME:C:.rustup
RUSTUP_DIST_SERVER:http://mirrors.ustc.edu.cn/rust-static
RUSTUP_UPDATE_ROOT:http://mirrors.ustc.edu.cn/rust-static/rustup
```

![](.\images\windows_rustup_env1.jpg)

![](.\images\windows_cargo_env1.jpg)

配置cargo config

```
[source.crates-io]
registry = "https://github.com/rust-lang/crates.io-index"
replace-with = 'ustc'
[source.ustc]
registry = "https://mirrors.ustc.edu.cn/crates.io-index/"
```

![](.\images\windows_cargo_env2.jpg)



## rustup link 编译器

rustup toolchain link my_gnu "xxxx"

rustup default my_gnu

### 安装 clippy

clippy

```
rustup component add clippy
```

```
cargo clippy
```

### 安装 rust格式化 rustfmt

```
rustup component add rustfmt
```

```
cargo fmt
```



### musl 编码

rustup target add x86_64-unknown-linux-musl

cargo build --target x86_64-unknown-linux-musl

win10 安装openssl

下载 Win64OpenSSL-1_0_2t.exe

```
SET OPENSSL_LIB_DIR=C:/OpenSSL-Win64 
SET OPENSSL_INCLUDE_DIR=C:/OpenSSL-Win64/include
cargo build
```